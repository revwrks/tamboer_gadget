import{E as g,u as s,G as x,D as n,H as b,c as i,a as e,t as r,I as d,l as y,o as u}from"./app.nOLxvhWu.js";const k={class:"grid grid-cols-12 gap-8"},D={class:"col-span-12"},w={class:"card p-4 mb-6"},E={class:"text-xl font-bold"},j={class:"text-muted"},P={class:"col-span-12 lg:col-span-6 xl:col-span-3"},S={class:"card mb-0"},I={class:"flex justify-between mb-4"},B=e("span",{class:"block text-muted-color font-medium mb-4"},"Penjualan Global",-1),N={class:"text-surface-900 dark:text-surface-0 font-medium text-xl"},V=e("div",{class:"flex items-center justify-center bg-blue-100 dark:bg-blue-400/10 rounded-border",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-shopping-cart text-blue-500 !text-xl"})],-1),C={key:0,class:"col-span-12 lg:col-span-6 xl:col-span-3"},F={class:"card mb-0"},G={class:"flex justify-between mb-4"},L=e("span",{class:"block text-muted-color font-medium mb-4"},"Keuntungan",-1),M={class:"text-surface-900 dark:text-surface-0 font-medium text-xl"},R=e("div",{class:"flex items-center justify-center bg-orange-100 dark:bg-orange-400/10 rounded-border",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-dollar text-orange-500 !text-xl"})],-1),K={__name:"Dashboard",setup(Y){g(),s(null),s(null),s(null);const _=s(0),m=s(0),l=s(0),c=s(0),h=async()=>{try{const t=new Date,o=await n.get("/api/report",{params:{month:t.getMonth()+1,year:t.getFullYear()}});_.value=o.data.phones_sold,m.value=o.data.profit,l.value=o.data.total_phones_sold_ever,c.value=o.data.total_profit_ever}catch(t){console.error("Error fetching report data:",t)}};x(()=>{h(),p()});const a=s({}),p=async()=>{try{const t=localStorage.getItem("token"),o=await n.get(`/api/users/${t}`);a.value=o.data}catch(t){console.error("Error fetching user data:",t)}},v=b(()=>a.value.level==="owner"),f=t=>t.toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0});return(t,o)=>(u(),i("div",k,[e("div",D,[e("div",w,[e("h2",E," Welcome, "+r(a.value.value.nama)+"! ",1),e("p",j,[d(" You are logged in as a "),e("strong",null,r(a.value.value.level),1),d(". ")])])]),e("div",P,[e("div",S,[e("div",I,[e("div",null,[B,e("div",N,r(l.value),1)]),V])])]),v.value?(u(),i("div",C,[e("div",F,[e("div",G,[e("div",null,[L,e("div",M,r(f(c.value)),1)]),R])])])):y("",!0)]))}};export{K as default};
