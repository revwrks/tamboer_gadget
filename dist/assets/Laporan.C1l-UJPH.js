import{_ as b,u as o,G as x,b1 as g,v as D,c as I,a as m,t as r,k as s,w as a,b3 as n,D as w,o as M,O as l,z as S,A as R}from"./app.DYb4vtlo.js";import{s as T}from"./index.BimSrEtP.js";import{s as c}from"./index.D9lkt8EW.js";import"./index.Dl32Gjrb.js";import"./index.C5jhljM2.js";import"./index.yeH71diU.js";import"./index.DBRa2qmt.js";import"./index.BLUoHmHi.js";import"./index.DFT7lvgp.js";import"./index.QuCDjsSy.js";import"./index.BIGMjE8y.js";import"./index.DU--r9eK.js";import"./index.DBHWkPF6.js";import"./index.CqPNYfth.js";import"./index.Ddk8Teb6.js";import"./index.zYXIKiL0.js";import"./index.IlhIhN8w.js";import"./index.CnjyFZOC.js";import"./index.D4jsbkbY.js";import"./index.DkZQtvKd.js";import"./index.D2YcutoK.js";const k=i=>(S("data-v-0260c7a0"),i=i(),R(),i),N={class:"card"},B={class:"text-xl font-bold mb-4"},F=k(()=>m("div",{class:"flex flex-wrap gap-2 items-center justify-between"},[m("h4",{class:"m-0"},"Monthly Report Data")],-1)),L={__name:"Laporan",setup(i){const u=o([]),f=o(null),v=o({global:{value:null,matchMode:"contains"}}),y=o(new Date().toLocaleString("id-ID",{month:"long",year:"numeric"})),_=async()=>{try{const e=await w.get("/api/report");u.value=[e.data]}catch(e){console.error("Error fetching report data:",e)}},p=o();x(()=>{_(),p.value=setInterval(_,1e4)}),g(()=>{p.value&&clearInterval(p.value)}),D();function d(e){return e!=null?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(Math.round(e)):"-"}return(e,h)=>(M(),I("div",N,[m("h2",B," Monthly Sales Report - "+r(y.value),1),s(n(T),{ref:"dt",selection:f.value,"onUpdate:selection":h[0]||(h[0]=t=>f.value=t),value:u.value,dataKey:"id",paginator:!1,filters:v.value},{header:a(()=>[F]),default:a(()=>[s(n(c),{field:"phones_sold",header:"Unit Terjual",sortable:""},{body:a(t=>[l(r(t.data.phones_sold),1)]),_:1}),s(n(c),{field:"total_income",header:"Total Pemasukan",sortable:""},{body:a(t=>[l(r(d(t.data.total_income)),1)]),_:1}),s(n(c),{field:"total_expenses",header:"Total Pengeluaran",sortable:""},{body:a(t=>[l(r(d(t.data.total_expenses)),1)]),_:1}),s(n(c),{field:"profit",header:"Keuntungan",sortable:""},{body:a(t=>[l(r(d(t.data.profit)),1)]),_:1})]),_:1},8,["selection","value","filters"])]))}},et=b(L,[["__scopeId","data-v-0260c7a0"]]);export{et as default};
