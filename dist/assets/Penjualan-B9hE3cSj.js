import{s as Y}from"./index-n7pb9he9.js";import{s as G}from"./index-BheYpLWl.js";import{s as Q}from"./index-Cd1pDWLW.js";import{s as W}from"./index-BgaxvPwa.js";import{s as z}from"./index-BodDq1iR.js";import{s as X}from"./index-B76vgBh4.js";import{s as Z}from"./index-BmlOOcz1.js";import{s as ee,a as te}from"./index-uaIGwjAt.js";import{s as le}from"./index-DNQq54jU.js";import{s as oe}from"./index-SHbE_E-N.js";import{s as ae}from"./index-D93LuLZ5.js";import{P as se}from"./ProductService-Cru8V0JS.js";import{o as ie,aK as ne,r as u,a as f,c as y,b as a,d as o,g as n,E as h,G as V,J as k,a3 as re}from"./app-B2vF5HN8.js";import"./index-XbGXPx_T.js";import"./index-CoZLLYDT.js";import"./index-C1P_JUqa.js";import"./index-DSk0YZmO.js";import"./index-DJva9yES.js";import"./index-Bw1zpVX8.js";import"./index-CHWJeFtT.js";import"./index-BWDGNUF8.js";import"./index-SmDOYnFH.js";import"./index-BTUC38q_.js";import"./index-DltMPkaW.js";import"./index-C4RVGztJ.js";const ue={class:"card"},de={class:"flex flex-wrap gap-2 items-center justify-between"},ce=a("h4",{class:"m-0"},"Manage Products",-1),me=a("i",{class:"pi pi-search"},null,-1),pe={class:"flex flex-col gap-6"},ve=["src","alt"],fe=a("label",{for:"name",class:"block font-bold mb-3"},"Name",-1),ye={key:0,class:"text-red-500"},ge=a("label",{for:"description",class:"block font-bold mb-3"},"Description",-1),be=a("label",{for:"inventoryStatus",class:"block font-bold mb-3"},"Inventory Status",-1),_e=a("span",{class:"block font-bold mb-4"},"Category",-1),he={class:"grid grid-cols-12 gap-4"},ke={class:"flex items-center gap-2 col-span-6"},xe=a("label",{for:"category1"},"Accessories",-1),Se={class:"flex items-center gap-2 col-span-6"},Ve=a("label",{for:"category2"},"Clothing",-1),Ce={class:"flex items-center gap-2 col-span-6"},Pe=a("label",{for:"category3"},"Electronics",-1),we={class:"flex items-center gap-2 col-span-6"},De=a("label",{for:"category4"},"Fitness",-1),Ue={class:"grid grid-cols-12 gap-4"},Ie={class:"col-span-6"},$e=a("label",{for:"price",class:"block font-bold mb-3"},"Price",-1),Ne={class:"col-span-6"},Te=a("label",{for:"quantity",class:"block font-bold mb-3"},"Quantity",-1),Me={class:"flex items-center gap-4"},Le=a("i",{class:"pi pi-exclamation-triangle !text-3xl"},null,-1),Oe={key:0},Ee={class:"flex items-center gap-4"},qe=a("i",{class:"pi pi-exclamation-triangle !text-3xl"},null,-1),Be={key:0},mt={__name:"Penjualan",setup(Fe){ie(()=>{se.getProducts().then(s=>r.value=s)});const g=ne(),C=u(),r=u(),m=u(!1),p=u(!1),v=u(!1),e=u({}),c=u(),x=u({global:{value:null,matchMode:re.CONTAINS}}),b=u(!1),I=u([{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}]);function P(s){if(s)return s.toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})}function $(){m.value=!1,b.value=!1}function N(){var s;b.value=!0,(s=e==null?void 0:e.value.name)!=null&&s.trim()&&(e.value.id?(e.value.inventoryStatus=e.value.inventoryStatus.value?e.value.inventoryStatus.value:e.value.inventoryStatus,r.value[O(e.value.id)]=e.value,g.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(e.value.id=w(),e.value.code=w(),e.value.image="product-placeholder.svg",e.value.inventoryStatus=e.value.inventoryStatus?e.value.inventoryStatus.value:"INSTOCK",r.value.push(e.value),g.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),m.value=!1,e.value={})}function T(s){e.value={...s},m.value=!0}function M(s){e.value=s,p.value=!0}function L(){r.value=r.value.filter(s=>s.id!==e.value.id),p.value=!1,e.value={},g.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})}function O(s){let t=-1;for(let i=0;i<r.value.length;i++)if(r.value[i].id===s){t=i;break}return t}function w(){let s="";for(var t="0123456789",i=0;i<5;i++)s+=t.charAt(Math.floor(Math.random()*t.length));return s}function E(){C.value.exportCSV()}function q(){v.value=!0}function B(){r.value=r.value.filter(s=>!c.value.includes(s)),v.value=!1,c.value=null,g.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})}return(s,t)=>{const i=ae,F=oe,A=ee,D=le,K=te,d=Z,R=X,j=z,H=W,_=Q,U=G,S=Y;return f(),y("div",null,[a("div",ue,[o(F,{class:"mb-6"},{start:n(()=>[o(i,{label:"Delete",icon:"pi pi-trash",severity:"secondary",onClick:q,disabled:!c.value||!c.value.length},null,8,["disabled"])]),end:n(()=>[o(i,{label:"Export",icon:"pi pi-upload",severity:"secondary",onClick:t[0]||(t[0]=l=>E(l))})]),_:1}),o(R,{ref_key:"dt",ref:C,selection:c.value,"onUpdate:selection":t[2]||(t[2]=l=>c.value=l),value:r.value,dataKey:"id",paginator:!0,rows:10,filters:x.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products"},{header:n(()=>[a("div",de,[ce,o(K,null,{default:n(()=>[o(A,null,{default:n(()=>[me]),_:1}),o(D,{modelValue:x.value.global.value,"onUpdate:modelValue":t[1]||(t[1]=l=>x.value.global.value=l),placeholder:"Search..."},null,8,["modelValue"])]),_:1})])]),default:n(()=>[o(d,{selectionMode:"multiple",style:{width:"3rem"},exportable:!1}),o(d,{field:"name",header:"Nama",sortable:"",style:{"min-width":"16rem"}}),o(d,{field:"priceEntry",header:"Harga Masuk",sortable:"",style:{"min-width":"8rem"}},{body:n(l=>[h(V(P(l.data.priceEntry)),1)]),_:1}),o(d,{field:"priceSell",header:"Harga Jual",sortable:"",style:{"min-width":"8rem"}},{body:n(l=>[h(V(P(l.data.priceSell)),1)]),_:1}),o(d,{field:"brand",header:"Brand",sortable:"",style:{"min-width":"10rem"}}),o(d,{field:"imei",header:"IMEI",sortable:"",style:{"min-width":"12rem"}}),o(d,{exportable:!1,style:{"min-width":"12rem"}},{body:n(l=>[o(i,{icon:"pi pi-pencil",outlined:"",rounded:"",class:"mr-2",onClick:J=>T(l.data)},null,8,["onClick"]),o(i,{icon:"pi pi-trash",outlined:"",rounded:"",severity:"danger",onClick:J=>M(l.data)},null,8,["onClick"])]),_:1})]),_:1},8,["selection","value","filters"])]),o(S,{visible:m.value,"onUpdate:visible":t[12]||(t[12]=l=>m.value=l),style:{width:"450px"},header:"Product Details",modal:!0},{footer:n(()=>[o(i,{label:"Cancel",icon:"pi pi-times",text:"",onClick:$}),o(i,{label:"Save",icon:"pi pi-check",onClick:N})]),default:n(()=>[a("div",pe,[e.value.image?(f(),y("img",{key:0,src:`https://primefaces.org/cdn/primevue/images/product/${e.value.image}`,alt:e.value.image,class:"block m-auto pb-4"},null,8,ve)):k("",!0),a("div",null,[fe,o(D,{id:"name",modelValue:e.value.name,"onUpdate:modelValue":t[3]||(t[3]=l=>e.value.name=l),modelModifiers:{trim:!0},required:"true",autofocus:"",invalid:b.value&&!e.value.name,fluid:""},null,8,["modelValue","invalid"]),b.value&&!e.value.name?(f(),y("small",ye,"Name is required.")):k("",!0)]),a("div",null,[ge,o(j,{id:"description",modelValue:e.value.description,"onUpdate:modelValue":t[4]||(t[4]=l=>e.value.description=l),required:"true",rows:"3",cols:"20",fluid:""},null,8,["modelValue"])]),a("div",null,[be,o(H,{id:"inventoryStatus",modelValue:e.value.inventoryStatus,"onUpdate:modelValue":t[5]||(t[5]=l=>e.value.inventoryStatus=l),options:I.value,optionLabel:"label",placeholder:"Select a Status",fluid:""},null,8,["modelValue","options"])]),a("div",null,[_e,a("div",he,[a("div",ke,[o(_,{id:"category1",modelValue:e.value.category,"onUpdate:modelValue":t[6]||(t[6]=l=>e.value.category=l),name:"category",value:"Accessories"},null,8,["modelValue"]),xe]),a("div",Se,[o(_,{id:"category2",modelValue:e.value.category,"onUpdate:modelValue":t[7]||(t[7]=l=>e.value.category=l),name:"category",value:"Clothing"},null,8,["modelValue"]),Ve]),a("div",Ce,[o(_,{id:"category3",modelValue:e.value.category,"onUpdate:modelValue":t[8]||(t[8]=l=>e.value.category=l),name:"category",value:"Electronics"},null,8,["modelValue"]),Pe]),a("div",we,[o(_,{id:"category4",modelValue:e.value.category,"onUpdate:modelValue":t[9]||(t[9]=l=>e.value.category=l),name:"category",value:"Fitness"},null,8,["modelValue"]),De])])]),a("div",Ue,[a("div",Ie,[$e,o(U,{id:"price",modelValue:e.value.price,"onUpdate:modelValue":t[10]||(t[10]=l=>e.value.price=l),mode:"currency",currency:"USD",locale:"en-US",fluid:""},null,8,["modelValue"])]),a("div",Ne,[Te,o(U,{id:"quantity",modelValue:e.value.quantity,"onUpdate:modelValue":t[11]||(t[11]=l=>e.value.quantity=l),integeronly:"",fluid:""},null,8,["modelValue"])])])])]),_:1},8,["visible"]),o(S,{visible:p.value,"onUpdate:visible":t[14]||(t[14]=l=>p.value=l),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[o(i,{label:"No",icon:"pi pi-times",text:"",onClick:t[13]||(t[13]=l=>p.value=!1)}),o(i,{label:"Yes",icon:"pi pi-check",onClick:L})]),default:n(()=>[a("div",Me,[Le,e.value?(f(),y("span",Oe,[h("Are you sure you want to delete "),a("b",null,V(e.value.name),1),h("?")])):k("",!0)])]),_:1},8,["visible"]),o(S,{visible:v.value,"onUpdate:visible":t[16]||(t[16]=l=>v.value=l),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[o(i,{label:"No",icon:"pi pi-times",text:"",onClick:t[15]||(t[15]=l=>v.value=!1)}),o(i,{label:"Yes",icon:"pi pi-check",text:"",onClick:B})]),default:n(()=>[a("div",Ee,[qe,e.value?(f(),y("span",Be,"Are you sure you want to delete the selected products?")):k("",!0)])]),_:1},8,["visible"])])}}};export{mt as default};
